"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(() => {
var exports = {};
exports.id = "pages/api/upload/chunk";
exports.ids = ["pages/api/upload/chunk"];
exports.modules = {

/***/ "jsonwebtoken":
/*!*******************************!*\
  !*** external "jsonwebtoken" ***!
  \*******************************/
/***/ ((module) => {

module.exports = require("jsonwebtoken");

/***/ }),

/***/ "next/dist/compiled/next-server/pages-api.runtime.dev.js":
/*!**************************************************************************!*\
  !*** external "next/dist/compiled/next-server/pages-api.runtime.dev.js" ***!
  \**************************************************************************/
/***/ ((module) => {

module.exports = require("next/dist/compiled/next-server/pages-api.runtime.dev.js");

/***/ }),

/***/ "formidable":
/*!*****************************!*\
  !*** external "formidable" ***!
  \*****************************/
/***/ ((module) => {

module.exports = import("formidable");;

/***/ }),

/***/ "fs":
/*!*********************!*\
  !*** external "fs" ***!
  \*********************/
/***/ ((module) => {

module.exports = require("fs");

/***/ }),

/***/ "path":
/*!***********************!*\
  !*** external "path" ***!
  \***********************/
/***/ ((module) => {

module.exports = require("path");

/***/ }),

/***/ "(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fupload%2Fchunk&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5Cupload%5Cchunk.ts&middlewareConfigBase64=e30%3D!":
/*!**********************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fupload%2Fchunk&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5Cupload%5Cchunk.ts&middlewareConfigBase64=e30%3D! ***!
  \**********************************************************************************************************************************************************************************************************************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   config: () => (/* binding */ config),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__),\n/* harmony export */   routeModule: () => (/* binding */ routeModule)\n/* harmony export */ });\n/* harmony import */ var next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! next/dist/server/future/route-modules/pages-api/module.compiled */ \"(api)/./node_modules/next/dist/server/future/route-modules/pages-api/module.compiled.js\");\n/* harmony import */ var next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! next/dist/server/future/route-kind */ \"(api)/./node_modules/next/dist/server/future/route-kind.js\");\n/* harmony import */ var next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/dist/build/templates/helpers */ \"(api)/./node_modules/next/dist/build/templates/helpers.js\");\n/* harmony import */ var _pages_api_upload_chunk_ts__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./pages\\api\\upload\\chunk.ts */ \"(api)/./pages/api/upload/chunk.ts\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([_pages_api_upload_chunk_ts__WEBPACK_IMPORTED_MODULE_3__]);\n_pages_api_upload_chunk_ts__WEBPACK_IMPORTED_MODULE_3__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\n\n\n// Import the userland code.\n\n// Re-export the handler (should be the default export).\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_api_upload_chunk_ts__WEBPACK_IMPORTED_MODULE_3__, \"default\"));\n// Re-export config.\nconst config = (0,next_dist_build_templates_helpers__WEBPACK_IMPORTED_MODULE_2__.hoist)(_pages_api_upload_chunk_ts__WEBPACK_IMPORTED_MODULE_3__, \"config\");\n// Create and export the route module that will be consumed.\nconst routeModule = new next_dist_server_future_route_modules_pages_api_module_compiled__WEBPACK_IMPORTED_MODULE_0__.PagesAPIRouteModule({\n    definition: {\n        kind: next_dist_server_future_route_kind__WEBPACK_IMPORTED_MODULE_1__.RouteKind.PAGES_API,\n        page: \"/api/upload/chunk\",\n        pathname: \"/api/upload/chunk\",\n        // The following aren't used in production.\n        bundlePath: \"\",\n        filename: \"\"\n    },\n    userland: _pages_api_upload_chunk_ts__WEBPACK_IMPORTED_MODULE_3__\n});\n\n//# sourceMappingURL=pages-api.js.map\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9ub2RlX21vZHVsZXMvbmV4dC9kaXN0L2J1aWxkL3dlYnBhY2svbG9hZGVycy9uZXh0LXJvdXRlLWxvYWRlci9pbmRleC5qcz9raW5kPVBBR0VTX0FQSSZwYWdlPSUyRmFwaSUyRnVwbG9hZCUyRmNodW5rJnByZWZlcnJlZFJlZ2lvbj0mYWJzb2x1dGVQYWdlUGF0aD0uJTJGcGFnZXMlNUNhcGklNUN1cGxvYWQlNUNjaHVuay50cyZtaWRkbGV3YXJlQ29uZmlnQmFzZTY0PWUzMCUzRCEiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7Ozs7QUFBc0c7QUFDdkM7QUFDTDtBQUMxRDtBQUMyRDtBQUMzRDtBQUNBLGlFQUFlLHdFQUFLLENBQUMsdURBQVEsWUFBWSxFQUFDO0FBQzFDO0FBQ08sZUFBZSx3RUFBSyxDQUFDLHVEQUFRO0FBQ3BDO0FBQ08sd0JBQXdCLGdIQUFtQjtBQUNsRDtBQUNBLGNBQWMseUVBQVM7QUFDdkI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTCxZQUFZO0FBQ1osQ0FBQzs7QUFFRCxxQyIsInNvdXJjZXMiOlsid2VicGFjazovL215X3ByYS8/MTc2YiJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBQYWdlc0FQSVJvdXRlTW9kdWxlIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLW1vZHVsZXMvcGFnZXMtYXBpL21vZHVsZS5jb21waWxlZFwiO1xuaW1wb3J0IHsgUm91dGVLaW5kIH0gZnJvbSBcIm5leHQvZGlzdC9zZXJ2ZXIvZnV0dXJlL3JvdXRlLWtpbmRcIjtcbmltcG9ydCB7IGhvaXN0IH0gZnJvbSBcIm5leHQvZGlzdC9idWlsZC90ZW1wbGF0ZXMvaGVscGVyc1wiO1xuLy8gSW1wb3J0IHRoZSB1c2VybGFuZCBjb2RlLlxuaW1wb3J0ICogYXMgdXNlcmxhbmQgZnJvbSBcIi4vcGFnZXNcXFxcYXBpXFxcXHVwbG9hZFxcXFxjaHVuay50c1wiO1xuLy8gUmUtZXhwb3J0IHRoZSBoYW5kbGVyIChzaG91bGQgYmUgdGhlIGRlZmF1bHQgZXhwb3J0KS5cbmV4cG9ydCBkZWZhdWx0IGhvaXN0KHVzZXJsYW5kLCBcImRlZmF1bHRcIik7XG4vLyBSZS1leHBvcnQgY29uZmlnLlxuZXhwb3J0IGNvbnN0IGNvbmZpZyA9IGhvaXN0KHVzZXJsYW5kLCBcImNvbmZpZ1wiKTtcbi8vIENyZWF0ZSBhbmQgZXhwb3J0IHRoZSByb3V0ZSBtb2R1bGUgdGhhdCB3aWxsIGJlIGNvbnN1bWVkLlxuZXhwb3J0IGNvbnN0IHJvdXRlTW9kdWxlID0gbmV3IFBhZ2VzQVBJUm91dGVNb2R1bGUoe1xuICAgIGRlZmluaXRpb246IHtcbiAgICAgICAga2luZDogUm91dGVLaW5kLlBBR0VTX0FQSSxcbiAgICAgICAgcGFnZTogXCIvYXBpL3VwbG9hZC9jaHVua1wiLFxuICAgICAgICBwYXRobmFtZTogXCIvYXBpL3VwbG9hZC9jaHVua1wiLFxuICAgICAgICAvLyBUaGUgZm9sbG93aW5nIGFyZW4ndCB1c2VkIGluIHByb2R1Y3Rpb24uXG4gICAgICAgIGJ1bmRsZVBhdGg6IFwiXCIsXG4gICAgICAgIGZpbGVuYW1lOiBcIlwiXG4gICAgfSxcbiAgICB1c2VybGFuZFxufSk7XG5cbi8vIyBzb3VyY2VNYXBwaW5nVVJMPXBhZ2VzLWFwaS5qcy5tYXAiXSwibmFtZXMiOltdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fupload%2Fchunk&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5Cupload%5Cchunk.ts&middlewareConfigBase64=e30%3D!\n");

/***/ }),

/***/ "(api)/./middleware/auth.ts":
/*!****************************!*\
  !*** ./middleware/auth.ts ***!
  \****************************/
/***/ ((__unused_webpack_module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   authMiddleware: () => (/* binding */ authMiddleware),\n/* harmony export */   roleCheck: () => (/* binding */ roleCheck)\n/* harmony export */ });\n/* harmony import */ var jsonwebtoken__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! jsonwebtoken */ \"jsonwebtoken\");\n/* harmony import */ var jsonwebtoken__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(jsonwebtoken__WEBPACK_IMPORTED_MODULE_0__);\n\nfunction authMiddleware(handler) {\n    return async (req, res)=>{\n        try {\n            const authHeader = req.headers.authorization;\n            if (!authHeader || !authHeader.startsWith(\"Bearer \")) {\n                return res.status(401).json({\n                    code: 401,\n                    message: \"未提供token\",\n                    data: null\n                });\n            }\n            const token = authHeader.split(\" \")[1];\n            const secret = process.env.JWT_SECRET || \"your-secret-key\";\n            try {\n                const decoded = jsonwebtoken__WEBPACK_IMPORTED_MODULE_0___default().verify(token, secret);\n                // 将解码后的用户信息添加到请求对象中\n                req.user = decoded;\n                return handler(req, res);\n            } catch (error) {\n                return res.status(401).json({\n                    code: 401,\n                    message: \"无效的token\",\n                    data: null\n                });\n            }\n        } catch (error) {\n            return res.status(500).json({\n                code: 500,\n                message: \"服务器错误\",\n                data: null\n            });\n        }\n    };\n}\nfunction roleCheck(roles) {\n    return (handler)=>{\n        return async (req, res)=>{\n            try {\n                const user = req.user;\n                if (!user) {\n                    return res.status(401).json({\n                        code: 401,\n                        message: \"请先登录\",\n                        data: null\n                    });\n                }\n                if (!roles.includes(user.role)) {\n                    return res.status(403).json({\n                        code: 403,\n                        message: \"权限不足\",\n                        data: null\n                    });\n                }\n                return handler(req, res);\n            } catch (error) {\n                return res.status(500).json({\n                    code: 500,\n                    message: \"服务器错误\",\n                    data: null\n                });\n            }\n        };\n    };\n}\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwaSkvLi9taWRkbGV3YXJlL2F1dGgudHMiLCJtYXBwaW5ncyI6Ijs7Ozs7OztBQUMrQjtBQVF4QixTQUFTQyxlQUFlQyxPQUFZO0lBQ3pDLE9BQU8sT0FBT0MsS0FBcUJDO1FBQ2pDLElBQUk7WUFDRixNQUFNQyxhQUFhRixJQUFJRyxPQUFPLENBQUNDLGFBQWE7WUFFNUMsSUFBSSxDQUFDRixjQUFjLENBQUNBLFdBQVdHLFVBQVUsQ0FBQyxZQUFZO2dCQUNwRCxPQUFPSixJQUFJSyxNQUFNLENBQUMsS0FBS0MsSUFBSSxDQUFDO29CQUMxQkMsTUFBTTtvQkFDTkMsU0FBUztvQkFDVEMsTUFBTTtnQkFDUjtZQUNGO1lBRUEsTUFBTUMsUUFBUVQsV0FBV1UsS0FBSyxDQUFDLElBQUksQ0FBQyxFQUFFO1lBQ3RDLE1BQU1DLFNBQVNDLFFBQVFDLEdBQUcsQ0FBQ0MsVUFBVSxJQUFJO1lBRXpDLElBQUk7Z0JBQ0YsTUFBTUMsVUFBVXBCLDBEQUFVLENBQUNjLE9BQU9FO2dCQUVsQyxvQkFBb0I7Z0JBQ25CYixJQUFZbUIsSUFBSSxHQUFHRjtnQkFFcEIsT0FBT2xCLFFBQVFDLEtBQUtDO1lBQ3RCLEVBQUUsT0FBT21CLE9BQU87Z0JBQ2QsT0FBT25CLElBQUlLLE1BQU0sQ0FBQyxLQUFLQyxJQUFJLENBQUM7b0JBQzFCQyxNQUFNO29CQUNOQyxTQUFTO29CQUNUQyxNQUFNO2dCQUNSO1lBQ0Y7UUFDRixFQUFFLE9BQU9VLE9BQU87WUFDZCxPQUFPbkIsSUFBSUssTUFBTSxDQUFDLEtBQUtDLElBQUksQ0FBQztnQkFDMUJDLE1BQU07Z0JBQ05DLFNBQVM7Z0JBQ1RDLE1BQU07WUFDUjtRQUNGO0lBQ0Y7QUFDRjtBQUVPLFNBQVNXLFVBQVVDLEtBQWU7SUFDdkMsT0FBTyxDQUFDdkI7UUFDTixPQUFPLE9BQU9DLEtBQXFCQztZQUNqQyxJQUFJO2dCQUNGLE1BQU1rQixPQUFPLElBQWFBLElBQUk7Z0JBRTlCLElBQUksQ0FBQ0EsTUFBTTtvQkFDVCxPQUFPbEIsSUFBSUssTUFBTSxDQUFDLEtBQUtDLElBQUksQ0FBQzt3QkFDMUJDLE1BQU07d0JBQ05DLFNBQVM7d0JBQ1RDLE1BQU07b0JBQ1I7Z0JBQ0Y7Z0JBRUEsSUFBSSxDQUFDWSxNQUFNQyxRQUFRLENBQUNKLEtBQUtLLElBQUksR0FBRztvQkFDOUIsT0FBT3ZCLElBQUlLLE1BQU0sQ0FBQyxLQUFLQyxJQUFJLENBQUM7d0JBQzFCQyxNQUFNO3dCQUNOQyxTQUFTO3dCQUNUQyxNQUFNO29CQUNSO2dCQUNGO2dCQUVBLE9BQU9YLFFBQVFDLEtBQUtDO1lBQ3RCLEVBQUUsT0FBT21CLE9BQU87Z0JBQ2QsT0FBT25CLElBQUlLLE1BQU0sQ0FBQyxLQUFLQyxJQUFJLENBQUM7b0JBQzFCQyxNQUFNO29CQUNOQyxTQUFTO29CQUNUQyxNQUFNO2dCQUNSO1lBQ0Y7UUFDRjtJQUNGO0FBQ0YiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9teV9wcmEvLi9taWRkbGV3YXJlL2F1dGgudHM/NDhjMCJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBOZXh0QXBpUmVxdWVzdCwgTmV4dEFwaVJlc3BvbnNlIH0gZnJvbSBcIm5leHRcIjtcclxuaW1wb3J0IGp3dCBmcm9tIFwianNvbndlYnRva2VuXCI7XHJcblxyXG5pbnRlcmZhY2UgRGVjb2RlZFRva2VuIHtcclxuICB1c2VySWQ6IHN0cmluZztcclxuICB1c2VybmFtZTogc3RyaW5nO1xyXG4gIHJvbGU6IHN0cmluZztcclxufVxyXG5cclxuZXhwb3J0IGZ1bmN0aW9uIGF1dGhNaWRkbGV3YXJlKGhhbmRsZXI6IGFueSkge1xyXG4gIHJldHVybiBhc3luYyAocmVxOiBOZXh0QXBpUmVxdWVzdCwgcmVzOiBOZXh0QXBpUmVzcG9uc2UpID0+IHtcclxuICAgIHRyeSB7XHJcbiAgICAgIGNvbnN0IGF1dGhIZWFkZXIgPSByZXEuaGVhZGVycy5hdXRob3JpemF0aW9uO1xyXG5cclxuICAgICAgaWYgKCFhdXRoSGVhZGVyIHx8ICFhdXRoSGVhZGVyLnN0YXJ0c1dpdGgoXCJCZWFyZXIgXCIpKSB7XHJcbiAgICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNDAxKS5qc29uKHtcclxuICAgICAgICAgIGNvZGU6IDQwMSxcclxuICAgICAgICAgIG1lc3NhZ2U6IFwi5pyq5o+Q5L6bdG9rZW5cIixcclxuICAgICAgICAgIGRhdGE6IG51bGwsXHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH1cclxuXHJcbiAgICAgIGNvbnN0IHRva2VuID0gYXV0aEhlYWRlci5zcGxpdChcIiBcIilbMV07XHJcbiAgICAgIGNvbnN0IHNlY3JldCA9IHByb2Nlc3MuZW52LkpXVF9TRUNSRVQgfHwgXCJ5b3VyLXNlY3JldC1rZXlcIjtcclxuXHJcbiAgICAgIHRyeSB7XHJcbiAgICAgICAgY29uc3QgZGVjb2RlZCA9IGp3dC52ZXJpZnkodG9rZW4sIHNlY3JldCkgYXMgRGVjb2RlZFRva2VuO1xyXG5cclxuICAgICAgICAvLyDlsIbop6PnoIHlkI7nmoTnlKjmiLfkv6Hmga/mt7vliqDliLDor7fmsYLlr7nosaHkuK1cclxuICAgICAgICAocmVxIGFzIGFueSkudXNlciA9IGRlY29kZWQ7XHJcblxyXG4gICAgICAgIHJldHVybiBoYW5kbGVyKHJlcSwgcmVzKTtcclxuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDEpLmpzb24oe1xyXG4gICAgICAgICAgY29kZTogNDAxLFxyXG4gICAgICAgICAgbWVzc2FnZTogXCLml6DmlYjnmoR0b2tlblwiLFxyXG4gICAgICAgICAgZGF0YTogbnVsbCxcclxuICAgICAgICB9KTtcclxuICAgICAgfVxyXG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoNTAwKS5qc29uKHtcclxuICAgICAgICBjb2RlOiA1MDAsXHJcbiAgICAgICAgbWVzc2FnZTogXCLmnI3liqHlmajplJnor69cIixcclxuICAgICAgICBkYXRhOiBudWxsLFxyXG4gICAgICB9KTtcclxuICAgIH1cclxuICB9O1xyXG59XHJcblxyXG5leHBvcnQgZnVuY3Rpb24gcm9sZUNoZWNrKHJvbGVzOiBzdHJpbmdbXSkge1xyXG4gIHJldHVybiAoaGFuZGxlcjogYW55KSA9PiB7XHJcbiAgICByZXR1cm4gYXN5bmMgKHJlcTogTmV4dEFwaVJlcXVlc3QsIHJlczogTmV4dEFwaVJlc3BvbnNlKSA9PiB7XHJcbiAgICAgIHRyeSB7XHJcbiAgICAgICAgY29uc3QgdXNlciA9IChyZXEgYXMgYW55KS51c2VyO1xyXG5cclxuICAgICAgICBpZiAoIXVzZXIpIHtcclxuICAgICAgICAgIHJldHVybiByZXMuc3RhdHVzKDQwMSkuanNvbih7XHJcbiAgICAgICAgICAgIGNvZGU6IDQwMSxcclxuICAgICAgICAgICAgbWVzc2FnZTogXCLor7flhYjnmbvlvZVcIixcclxuICAgICAgICAgICAgZGF0YTogbnVsbCxcclxuICAgICAgICAgIH0pO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgaWYgKCFyb2xlcy5pbmNsdWRlcyh1c2VyLnJvbGUpKSB7XHJcbiAgICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg0MDMpLmpzb24oe1xyXG4gICAgICAgICAgICBjb2RlOiA0MDMsXHJcbiAgICAgICAgICAgIG1lc3NhZ2U6IFwi5p2D6ZmQ5LiN6LazXCIsXHJcbiAgICAgICAgICAgIGRhdGE6IG51bGwsXHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIHJldHVybiBoYW5kbGVyKHJlcSwgcmVzKTtcclxuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICByZXR1cm4gcmVzLnN0YXR1cyg1MDApLmpzb24oe1xyXG4gICAgICAgICAgY29kZTogNTAwLFxyXG4gICAgICAgICAgbWVzc2FnZTogXCLmnI3liqHlmajplJnor69cIixcclxuICAgICAgICAgIGRhdGE6IG51bGwsXHJcbiAgICAgICAgfSk7XHJcbiAgICAgIH1cclxuICAgIH07XHJcbiAgfTtcclxufVxyXG4iXSwibmFtZXMiOlsiand0IiwiYXV0aE1pZGRsZXdhcmUiLCJoYW5kbGVyIiwicmVxIiwicmVzIiwiYXV0aEhlYWRlciIsImhlYWRlcnMiLCJhdXRob3JpemF0aW9uIiwic3RhcnRzV2l0aCIsInN0YXR1cyIsImpzb24iLCJjb2RlIiwibWVzc2FnZSIsImRhdGEiLCJ0b2tlbiIsInNwbGl0Iiwic2VjcmV0IiwicHJvY2VzcyIsImVudiIsIkpXVF9TRUNSRVQiLCJkZWNvZGVkIiwidmVyaWZ5IiwidXNlciIsImVycm9yIiwicm9sZUNoZWNrIiwicm9sZXMiLCJpbmNsdWRlcyIsInJvbGUiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api)/./middleware/auth.ts\n");

/***/ }),

/***/ "(api)/./pages/api/upload/chunk.ts":
/*!***********************************!*\
  !*** ./pages/api/upload/chunk.ts ***!
  \***********************************/
/***/ ((module, __webpack_exports__, __webpack_require__) => {

eval("__webpack_require__.a(module, async (__webpack_handle_async_dependencies__, __webpack_async_result__) => { try {\n__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   config: () => (/* binding */ config),\n/* harmony export */   \"default\": () => (__WEBPACK_DEFAULT_EXPORT__)\n/* harmony export */ });\n/* harmony import */ var formidable__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! formidable */ \"formidable\");\n/* harmony import */ var fs__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! fs */ \"fs\");\n/* harmony import */ var fs__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(fs__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! path */ \"path\");\n/* harmony import */ var path__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(path__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var _middleware_auth__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ../../../middleware/auth */ \"(api)/./middleware/auth.ts\");\nvar __webpack_async_dependencies__ = __webpack_handle_async_dependencies__([formidable__WEBPACK_IMPORTED_MODULE_0__]);\nformidable__WEBPACK_IMPORTED_MODULE_0__ = (__webpack_async_dependencies__.then ? (await __webpack_async_dependencies__)() : __webpack_async_dependencies__)[0];\n\n\n\n\nconst config = {\n    api: {\n        bodyParser: false\n    }\n};\nasync function handler(req, res) {\n    if (req.method !== \"POST\") {\n        return res.status(405).json({\n            code: 405,\n            message: \"方法不允许\",\n            data: null\n        });\n    }\n    try {\n        const uploadDir = path__WEBPACK_IMPORTED_MODULE_2___default().join(process.cwd(), \"uploads\", \"temp\");\n        // 确保上传目录存在\n        if (!fs__WEBPACK_IMPORTED_MODULE_1___default().existsSync(uploadDir)) {\n            fs__WEBPACK_IMPORTED_MODULE_1___default().mkdirSync(uploadDir, {\n                recursive: true\n            });\n        }\n        // 修改formidable配置\n        const form = new formidable__WEBPACK_IMPORTED_MODULE_0__.IncomingForm({\n            uploadDir,\n            keepExtensions: true,\n            multiples: true,\n            maxFileSize: 20 * 1024 * 1024\n        });\n        return new Promise((resolve, reject)=>{\n            form.parse(req, async (err, fields, files)=>{\n                if (err) {\n                    console.error(\"解析表单错误:\", err);\n                    res.status(500).json({\n                        code: 500,\n                        message: \"上传失败\",\n                        data: null\n                    });\n                    return resolve(true);\n                }\n                try {\n                    // 检查文件和字段是否存在\n                    const chunk = files.chunk?.[0] || files.chunk;\n                    const fileName = Array.isArray(fields.fileName) ? fields.fileName[0] : fields.fileName;\n                    const chunkIndex = Array.isArray(fields.chunkIndex) ? fields.chunkIndex[0] : fields.chunkIndex;\n                    const chunks = Array.isArray(fields.chunks) ? fields.chunks[0] : fields.chunks;\n                    if (!chunk || !fileName || chunkIndex === undefined || !chunks) {\n                        console.error(\"参数不完整:\", {\n                            chunk,\n                            fileName,\n                            chunkIndex,\n                            chunks\n                        });\n                        res.status(400).json({\n                            code: 400,\n                            message: \"参数不完整\",\n                            data: null\n                        });\n                        return resolve(true);\n                    }\n                    // 创建以文件名命名的临时文件夹存储分片\n                    const fileDir = path__WEBPACK_IMPORTED_MODULE_2___default().join(uploadDir, fileName);\n                    if (!fs__WEBPACK_IMPORTED_MODULE_1___default().existsSync(fileDir)) {\n                        fs__WEBPACK_IMPORTED_MODULE_1___default().mkdirSync(fileDir, {\n                            recursive: true\n                        });\n                    }\n                    // 获取正确的文件路径 - 使用类型断言解决TypeScript错误\n                    const filePath = chunk.filepath || chunk.path;\n                    if (!filePath) {\n                        console.error(\"无法获取文件路径:\", chunk);\n                        res.status(500).json({\n                            code: 500,\n                            message: \"无法获取文件路径\",\n                            data: null\n                        });\n                        return resolve(true);\n                    }\n                    // 保存分片到对应的文件夹\n                    const chunkPath = path__WEBPACK_IMPORTED_MODULE_2___default().join(fileDir, `${chunkIndex}`);\n                    fs__WEBPACK_IMPORTED_MODULE_1___default().renameSync(filePath, chunkPath);\n                    res.status(200).json({\n                        code: 200,\n                        message: \"分片上传成功\",\n                        data: {\n                            chunkIndex,\n                            totalChunks: chunks\n                        }\n                    });\n                    return resolve(true);\n                } catch (error) {\n                    console.error(\"处理分片错误:\", error);\n                    res.status(500).json({\n                        code: 500,\n                        message: \"处理分片失败\",\n                        data: null\n                    });\n                    return resolve(true);\n                }\n            });\n        });\n    } catch (error) {\n        console.error(\"服务器错误:\", error);\n        return res.status(500).json({\n            code: 500,\n            message: \"服务器错误\",\n            data: null\n        });\n    }\n}\n/* harmony default export */ const __WEBPACK_DEFAULT_EXPORT__ = ((0,_middleware_auth__WEBPACK_IMPORTED_MODULE_3__.authMiddleware)(handler));\n\n__webpack_async_result__();\n} catch(e) { __webpack_async_result__(e); } });//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,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Z0RBQVMsQ0FBQ3lDLFNBQVMsQ0FBQyxFQUFFSCxXQUFXLENBQUM7b0JBQ3BEdkMsb0RBQWEsQ0FBQzJDLFVBQVVFO29CQUV4QnJDLElBQUlFLE1BQU0sQ0FBQyxLQUFLQyxJQUFJLENBQUM7d0JBQ25CQyxNQUFNO3dCQUNOQyxTQUFTO3dCQUNUQyxNQUFNOzRCQUFFeUI7NEJBQVlRLGFBQWFQO3dCQUFPO29CQUMxQztvQkFDQSxPQUFPYixRQUFRO2dCQUNqQixFQUFFLE9BQU9PLE9BQU87b0JBQ2RELFFBQVFDLEtBQUssQ0FBQyxXQUFXQTtvQkFDekIxQixJQUNHRSxNQUFNLENBQUMsS0FDUEMsSUFBSSxDQUFDO3dCQUFFQyxNQUFNO3dCQUFLQyxTQUFTO3dCQUFVQyxNQUFNO29CQUFLO29CQUNuRCxPQUFPYSxRQUFRO2dCQUNqQjtZQUNGO1FBQ0Y7SUFDRixFQUFFLE9BQU9PLE9BQU87UUFDZEQsUUFBUUMsS0FBSyxDQUFDLFVBQVVBO1FBQ3hCLE9BQU8xQixJQUNKRSxNQUFNLENBQUMsS0FDUEMsSUFBSSxDQUFDO1lBQUVDLE1BQU07WUFBS0MsU0FBUztZQUFTQyxNQUFNO1FBQUs7SUFDcEQ7QUFDRjtBQUVBLGlFQUFlWixnRUFBY0EsQ0FBQ0ksUUFBUUEsRUFBQyIsInNvdXJjZXMiOlsid2VicGFjazovL215X3ByYS8uL3BhZ2VzL2FwaS91cGxvYWQvY2h1bmsudHM/YjI1YyJdLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgdHlwZSB7IE5leHRBcGlSZXF1ZXN0LCBOZXh0QXBpUmVzcG9uc2UgfSBmcm9tIFwibmV4dFwiO1xyXG5pbXBvcnQgeyBJbmNvbWluZ0Zvcm0gfSBmcm9tIFwiZm9ybWlkYWJsZVwiO1xyXG5pbXBvcnQgZnMgZnJvbSBcImZzXCI7XHJcbmltcG9ydCBwYXRoIGZyb20gXCJwYXRoXCI7XHJcbmltcG9ydCB7IGF1dGhNaWRkbGV3YXJlIH0gZnJvbSBcIi4uLy4uLy4uL21pZGRsZXdhcmUvYXV0aFwiO1xyXG5cclxuZXhwb3J0IGNvbnN0IGNvbmZpZyA9IHtcclxuICBhcGk6IHtcclxuICAgIGJvZHlQYXJzZXI6IGZhbHNlLFxyXG4gIH0sXHJcbn07XHJcblxyXG5pbnRlcmZhY2UgRm9ybWlkYWJsZUZpbGUge1xyXG4gIGZpbGVwYXRoPzogc3RyaW5nO1xyXG4gIHBhdGg/OiBzdHJpbmc7XHJcbiAgc2l6ZTogbnVtYmVyO1xyXG4gIG5hbWU6IHN0cmluZztcclxuICB0eXBlOiBzdHJpbmc7XHJcbiAgLy8g5YW25LuW5Y+v6IO955qE5bGe5oCnXHJcbn1cclxuXHJcbmFzeW5jIGZ1bmN0aW9uIGhhbmRsZXIocmVxOiBOZXh0QXBpUmVxdWVzdCwgcmVzOiBOZXh0QXBpUmVzcG9uc2UpIHtcclxuICBpZiAocmVxLm1ldGhvZCAhPT0gXCJQT1NUXCIpIHtcclxuICAgIHJldHVybiByZXNcclxuICAgICAgLnN0YXR1cyg0MDUpXHJcbiAgICAgIC5qc29uKHsgY29kZTogNDA1LCBtZXNzYWdlOiBcIuaWueazleS4jeWFgeiuuFwiLCBkYXRhOiBudWxsIH0pO1xyXG4gIH1cclxuXHJcbiAgdHJ5IHtcclxuICAgIGNvbnN0IHVwbG9hZERpciA9IHBhdGguam9pbihwcm9jZXNzLmN3ZCgpLCBcInVwbG9hZHNcIiwgXCJ0ZW1wXCIpO1xyXG4gICAgLy8g56Gu5L+d5LiK5Lyg55uu5b2V5a2Y5ZyoXHJcbiAgICBpZiAoIWZzLmV4aXN0c1N5bmModXBsb2FkRGlyKSkge1xyXG4gICAgICBmcy5ta2RpclN5bmModXBsb2FkRGlyLCB7IHJlY3Vyc2l2ZTogdHJ1ZSB9KTtcclxuICAgIH1cclxuXHJcbiAgICAvLyDkv67mlLlmb3JtaWRhYmxl6YWN572uXHJcbiAgICBjb25zdCBmb3JtID0gbmV3IEluY29taW5nRm9ybSh7XHJcbiAgICAgIHVwbG9hZERpcixcclxuICAgICAga2VlcEV4dGVuc2lvbnM6IHRydWUsXHJcbiAgICAgIG11bHRpcGxlczogdHJ1ZSwgLy8g5pSv5oyB5aSa5paH5Lu25LiK5LygXHJcbiAgICAgIG1heEZpbGVTaXplOiAyMCAqIDEwMjQgKiAxMDI0LCAvLyDorr7nva7mnIDlpKfmlofku7blpKflsI/kuLoyME1CXHJcbiAgICB9KTtcclxuXHJcbiAgICByZXR1cm4gbmV3IFByb21pc2UoKHJlc29sdmUsIHJlamVjdCkgPT4ge1xyXG4gICAgICBmb3JtLnBhcnNlKHJlcSwgYXN5bmMgKGVyciwgZmllbGRzLCBmaWxlcykgPT4ge1xyXG4gICAgICAgIGlmIChlcnIpIHtcclxuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCLop6PmnpDooajljZXplJnor686XCIsIGVycik7XHJcbiAgICAgICAgICByZXMuc3RhdHVzKDUwMCkuanNvbih7IGNvZGU6IDUwMCwgbWVzc2FnZTogXCLkuIrkvKDlpLHotKVcIiwgZGF0YTogbnVsbCB9KTtcclxuICAgICAgICAgIHJldHVybiByZXNvbHZlKHRydWUpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdHJ5IHtcclxuICAgICAgICAgIC8vIOajgOafpeaWh+S7tuWSjOWtl+auteaYr+WQpuWtmOWcqFxyXG4gICAgICAgICAgY29uc3QgY2h1bmsgPVxyXG4gICAgICAgICAgICBmaWxlcy5jaHVuaz8uWzBdIHx8IChmaWxlcy5jaHVuayBhcyB1bmtub3duIGFzIEZvcm1pZGFibGVGaWxlKTtcclxuICAgICAgICAgIGNvbnN0IGZpbGVOYW1lID0gQXJyYXkuaXNBcnJheShmaWVsZHMuZmlsZU5hbWUpXHJcbiAgICAgICAgICAgID8gZmllbGRzLmZpbGVOYW1lWzBdXHJcbiAgICAgICAgICAgIDogZmllbGRzLmZpbGVOYW1lO1xyXG4gICAgICAgICAgY29uc3QgY2h1bmtJbmRleCA9IEFycmF5LmlzQXJyYXkoZmllbGRzLmNodW5rSW5kZXgpXHJcbiAgICAgICAgICAgID8gZmllbGRzLmNodW5rSW5kZXhbMF1cclxuICAgICAgICAgICAgOiBmaWVsZHMuY2h1bmtJbmRleDtcclxuICAgICAgICAgIGNvbnN0IGNodW5rcyA9IEFycmF5LmlzQXJyYXkoZmllbGRzLmNodW5rcylcclxuICAgICAgICAgICAgPyBmaWVsZHMuY2h1bmtzWzBdXHJcbiAgICAgICAgICAgIDogZmllbGRzLmNodW5rcztcclxuXHJcbiAgICAgICAgICBpZiAoIWNodW5rIHx8ICFmaWxlTmFtZSB8fCBjaHVua0luZGV4ID09PSB1bmRlZmluZWQgfHwgIWNodW5rcykge1xyXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKFwi5Y+C5pWw5LiN5a6M5pW0OlwiLCB7XHJcbiAgICAgICAgICAgICAgY2h1bmssXHJcbiAgICAgICAgICAgICAgZmlsZU5hbWUsXHJcbiAgICAgICAgICAgICAgY2h1bmtJbmRleCxcclxuICAgICAgICAgICAgICBjaHVua3MsXHJcbiAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICByZXNcclxuICAgICAgICAgICAgICAuc3RhdHVzKDQwMClcclxuICAgICAgICAgICAgICAuanNvbih7IGNvZGU6IDQwMCwgbWVzc2FnZTogXCLlj4LmlbDkuI3lrozmlbRcIiwgZGF0YTogbnVsbCB9KTtcclxuICAgICAgICAgICAgcmV0dXJuIHJlc29sdmUodHJ1ZSk7XHJcbiAgICAgICAgICB9XHJcblxyXG4gICAgICAgICAgLy8g5Yib5bu65Lul5paH5Lu25ZCN5ZG95ZCN55qE5Li05pe25paH5Lu25aS55a2Y5YKo5YiG54mHXHJcbiAgICAgICAgICBjb25zdCBmaWxlRGlyID0gcGF0aC5qb2luKHVwbG9hZERpciwgZmlsZU5hbWUpO1xyXG4gICAgICAgICAgaWYgKCFmcy5leGlzdHNTeW5jKGZpbGVEaXIpKSB7XHJcbiAgICAgICAgICAgIGZzLm1rZGlyU3luYyhmaWxlRGlyLCB7IHJlY3Vyc2l2ZTogdHJ1ZSB9KTtcclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAvLyDojrflj5bmraPnoa7nmoTmlofku7bot6/lvoQgLSDkvb/nlKjnsbvlnovmlq3oqIDop6PlhrNUeXBlU2NyaXB06ZSZ6K+vXHJcbiAgICAgICAgICBjb25zdCBmaWxlUGF0aCA9IGNodW5rLmZpbGVwYXRoIHx8IGNodW5rLnBhdGg7XHJcblxyXG4gICAgICAgICAgaWYgKCFmaWxlUGF0aCkge1xyXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKFwi5peg5rOV6I635Y+W5paH5Lu26Lev5b6EOlwiLCBjaHVuayk7XHJcbiAgICAgICAgICAgIHJlc1xyXG4gICAgICAgICAgICAgIC5zdGF0dXMoNTAwKVxyXG4gICAgICAgICAgICAgIC5qc29uKHsgY29kZTogNTAwLCBtZXNzYWdlOiBcIuaXoOazleiOt+WPluaWh+S7tui3r+W+hFwiLCBkYXRhOiBudWxsIH0pO1xyXG4gICAgICAgICAgICByZXR1cm4gcmVzb2x2ZSh0cnVlKTtcclxuICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAvLyDkv53lrZjliIbniYfliLDlr7nlupTnmoTmlofku7blpLlcclxuICAgICAgICAgIGNvbnN0IGNodW5rUGF0aCA9IHBhdGguam9pbihmaWxlRGlyLCBgJHtjaHVua0luZGV4fWApO1xyXG4gICAgICAgICAgZnMucmVuYW1lU3luYyhmaWxlUGF0aCwgY2h1bmtQYXRoKTtcclxuXHJcbiAgICAgICAgICByZXMuc3RhdHVzKDIwMCkuanNvbih7XHJcbiAgICAgICAgICAgIGNvZGU6IDIwMCxcclxuICAgICAgICAgICAgbWVzc2FnZTogXCLliIbniYfkuIrkvKDmiJDlip9cIixcclxuICAgICAgICAgICAgZGF0YTogeyBjaHVua0luZGV4LCB0b3RhbENodW5rczogY2h1bmtzIH0sXHJcbiAgICAgICAgICB9KTtcclxuICAgICAgICAgIHJldHVybiByZXNvbHZlKHRydWUpO1xyXG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICBjb25zb2xlLmVycm9yKFwi5aSE55CG5YiG54mH6ZSZ6K+vOlwiLCBlcnJvcik7XHJcbiAgICAgICAgICByZXNcclxuICAgICAgICAgICAgLnN0YXR1cyg1MDApXHJcbiAgICAgICAgICAgIC5qc29uKHsgY29kZTogNTAwLCBtZXNzYWdlOiBcIuWkhOeQhuWIhueJh+Wksei0pVwiLCBkYXRhOiBudWxsIH0pO1xyXG4gICAgICAgICAgcmV0dXJuIHJlc29sdmUodHJ1ZSk7XHJcbiAgICAgICAgfVxyXG4gICAgICB9KTtcclxuICAgIH0pO1xyXG4gIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICBjb25zb2xlLmVycm9yKFwi5pyN5Yqh5Zmo6ZSZ6K+vOlwiLCBlcnJvcik7XHJcbiAgICByZXR1cm4gcmVzXHJcbiAgICAgIC5zdGF0dXMoNTAwKVxyXG4gICAgICAuanNvbih7IGNvZGU6IDUwMCwgbWVzc2FnZTogXCLmnI3liqHlmajplJnor69cIiwgZGF0YTogbnVsbCB9KTtcclxuICB9XHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IGF1dGhNaWRkbGV3YXJlKGhhbmRsZXIpO1xyXG4iXSwibmFtZXMiOlsiSW5jb21pbmdGb3JtIiwiZnMiLCJwYXRoIiwiYXV0aE1pZGRsZXdhcmUiLCJjb25maWciLCJhcGkiLCJib2R5UGFyc2VyIiwiaGFuZGxlciIsInJlcSIsInJlcyIsIm1ldGhvZCIsInN0YXR1cyIsImpzb24iLCJjb2RlIiwibWVzc2FnZSIsImRhdGEiLCJ1cGxvYWREaXIiLCJqb2luIiwicHJvY2VzcyIsImN3ZCIsImV4aXN0c1N5bmMiLCJta2RpclN5bmMiLCJyZWN1cnNpdmUiLCJmb3JtIiwia2VlcEV4dGVuc2lvbnMiLCJtdWx0aXBsZXMiLCJtYXhGaWxlU2l6ZSIsIlByb21pc2UiLCJyZXNvbHZlIiwicmVqZWN0IiwicGFyc2UiLCJlcnIiLCJmaWVsZHMiLCJmaWxlcyIsImNvbnNvbGUiLCJlcnJvciIsImNodW5rIiwiZmlsZU5hbWUiLCJBcnJheSIsImlzQXJyYXkiLCJjaHVua0luZGV4IiwiY2h1bmtzIiwidW5kZWZpbmVkIiwiZmlsZURpciIsImZpbGVQYXRoIiwiZmlsZXBhdGgiLCJjaHVua1BhdGgiLCJyZW5hbWVTeW5jIiwidG90YWxDaHVua3MiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(api)/./pages/api/upload/chunk.ts\n");

/***/ })

};
;

// load runtime
var __webpack_require__ = require("../../../webpack-api-runtime.js");
__webpack_require__.C(exports);
var __webpack_exec__ = (moduleId) => (__webpack_require__(__webpack_require__.s = moduleId))
var __webpack_exports__ = __webpack_require__.X(0, ["vendor-chunks/next"], () => (__webpack_exec__("(api)/./node_modules/next/dist/build/webpack/loaders/next-route-loader/index.js?kind=PAGES_API&page=%2Fapi%2Fupload%2Fchunk&preferredRegion=&absolutePagePath=.%2Fpages%5Capi%5Cupload%5Cchunk.ts&middlewareConfigBase64=e30%3D!")));
module.exports = __webpack_exports__;

})();