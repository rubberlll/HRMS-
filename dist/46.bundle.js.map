{"version":3,"file":"46.bundle.js","mappings":"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","sources":["webpack://my_pra/./src/pages/recruitment/Apply.tsx"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport {\r\n  Form,\r\n  Input,\r\n  Upload,\r\n  Button,\r\n  message,\r\n  Select,\r\n  Spin,\r\n  Card,\r\n  Row,\r\n  Col,\r\n  Space,\r\n  Typography,\r\n} from \"antd\";\r\nimport { UploadOutlined, ArrowLeftOutlined } from \"@ant-design/icons\";\r\nimport request from \"../../utils/request\";\r\nimport dayjs from \"dayjs\";\r\n\r\nconst ApplyPage: React.FC = () => {\r\n  const [form] = Form.useForm();\r\n  const [uploading, setUploading] = useState(false);\r\n  const [jobs, setJobs] = useState<any[]>([]);\r\n  const [loading, setLoading] = useState(false);\r\n  const [fileList, setFileList] = useState<any[]>([]);\r\n  const [selectedJob, setSelectedJob] = useState<any>(null);\r\n  const [viewMode, setViewMode] = useState<\"list\" | \"apply\">(\"list\");\r\n  const [searchText, setSearchText] = useState<string>(\"\");\r\n  const [filterDepartment, setFilterDepartment] = useState<string>(\"all\");\r\n  const [departments, setDepartments] = useState<any[]>([]);\r\n\r\n  // 添加工作经验和教育经历的状态\r\n  const [workExperiences, setWorkExperiences] = useState<any[]>([{}]);\r\n  const [educations, setEducations] = useState<any[]>([{}]);\r\n  const [skills, setSkills] = useState<string[]>([]);\r\n\r\n  useEffect(() => {\r\n    // 获取所有发布的职位\r\n    const fetchJobs = async () => {\r\n      setLoading(true);\r\n      try {\r\n        const response = await request.get(\"/jobs\");\r\n        setJobs(response.data.data || []);\r\n      } catch (error) {\r\n        console.error(\"获取职位列表失败:\", error);\r\n        message.error(\"获取职位列表失败\");\r\n      } finally {\r\n        setLoading(false);\r\n      }\r\n    };\r\n\r\n    const fetchDepartments = async () => {\r\n      try {\r\n        const response = await request.get(\"/departments\");\r\n        setDepartments(response.data.data || []);\r\n      } catch (error) {\r\n        console.error(\"获取部门列表失败:\", error);\r\n      }\r\n    };\r\n\r\n    fetchJobs();\r\n    fetchDepartments();\r\n  }, []);\r\n\r\n  const handleUpload = {\r\n    customRequest: async ({ file, onSuccess, onError }: any) => {\r\n      const chunkSize = 1024 * 1024; // 1MB 每片\r\n      const chunks = Math.ceil(file.size / chunkSize);\r\n      setUploading(true);\r\n\r\n      try {\r\n        const uploadChunks = async () => {\r\n          for (let i = 0; i < chunks; i++) {\r\n            const start = i * chunkSize;\r\n            const end = Math.min(file.size, start + chunkSize);\r\n            const chunk = file.slice(start, end);\r\n\r\n            const formData = new FormData();\r\n            formData.append(\"chunk\", chunk);\r\n            formData.append(\"fileName\", file.name);\r\n            formData.append(\"chunkIndex\", String(i));\r\n            formData.append(\"chunks\", String(chunks));\r\n\r\n            // 添加错误处理和重试逻辑\r\n            let retries = 3;\r\n            while (retries > 0) {\r\n              try {\r\n                const response = await request.post(\"/upload/chunk\", formData, {\r\n                  headers: {\r\n                    \"Content-Type\": \"multipart/form-data\",\r\n                  },\r\n                });\r\n\r\n                if (response.status !== 200) {\r\n                  throw new Error(`上传失败: ${response.statusText}`);\r\n                }\r\n\r\n                break; // 成功则跳出重试循环\r\n              } catch (err) {\r\n                retries--;\r\n                if (retries === 0) throw err;\r\n                // 等待一秒后重试\r\n                await new Promise((resolve) => setTimeout(resolve, 1000));\r\n              }\r\n            }\r\n          }\r\n\r\n          // 所有分片上传完成后，请求合并文件\r\n          const mergeResponse = await request.post(\"/upload/merge\", {\r\n            fileName: file.name,\r\n            chunks: chunks,\r\n          });\r\n\r\n          return mergeResponse.data.data;\r\n        };\r\n\r\n        const result = await uploadChunks();\r\n        onSuccess(result);\r\n        message.success(`${file.name} 上传成功`);\r\n        return result;\r\n      } catch (error) {\r\n        console.error(\"上传错误详情:\", error);\r\n        onError(error);\r\n        message.error(`${file.name} 上传失败: ${error.message || \"未知错误\"}`);\r\n      } finally {\r\n        setUploading(false);\r\n      }\r\n    },\r\n    beforeUpload: (file: File) => {\r\n      const isPDF = file.type === \"application/pdf\";\r\n      if (!isPDF) {\r\n        message.error(\"只能上传 PDF 文件！\");\r\n        return Upload.LIST_IGNORE;\r\n      }\r\n      const isLt20M = file.size / 1024 / 1024 < 20;\r\n      if (!isLt20M) {\r\n        message.error(\"文件大小不能超过 20MB！\");\r\n        return Upload.LIST_IGNORE;\r\n      }\r\n      return true;\r\n    },\r\n  };\r\n\r\n  const onFinish = async (values: any) => {\r\n    try {\r\n      if (fileList.length === 0) {\r\n        message.error(\"请上传简历文件\");\r\n        return;\r\n      }\r\n\r\n      const fileInfo = fileList[0].response || {};\r\n\r\n      // 处理工作经验数据，确保格式与后端模型匹配\r\n      const formattedWorkExperience =\r\n        values.workExperience?.map((exp: any) => ({\r\n          company: exp.company,\r\n          position: exp.position,\r\n          duration: `${exp.startDate || \"\"} - ${exp.endDate || \"\"}`,\r\n          description: exp.description,\r\n        })) || [];\r\n\r\n      // 处理教育经历数据，确保格式与后端模型匹配\r\n      const formattedEducation = values.education?.[0]\r\n        ? {\r\n            school: values.education[0].school,\r\n            major: values.education[0].major,\r\n            degree: values.education[0].degree,\r\n            graduationYear: values.education[0].endDate?.split(\"-\")[0] || \"\",\r\n          }\r\n        : undefined;\r\n\r\n      const submitData = {\r\n        jobId: selectedJob._id,\r\n        fileUrl: fileInfo.url,\r\n        fileName: fileList[0].name,\r\n        coverLetter: values.coverLetter,\r\n        status: \"pending\",\r\n        submittedAt: new Date(),\r\n        // 使用格式化后的数据\r\n        workExperience: formattedWorkExperience,\r\n        education: formattedEducation,\r\n        skills: values.skills || [],\r\n      };\r\n\r\n      await request.post(\"/resumes\", submitData);\r\n      message.success(\"简历提交成功！\");\r\n      form.resetFields();\r\n      setFileList([]);\r\n      setViewMode(\"list\");\r\n      setSelectedJob(null);\r\n      // 重置新增的状态\r\n      setWorkExperiences([{}]);\r\n      setEducations([{}]);\r\n      setSkills([]);\r\n    } catch (error) {\r\n      console.error(\"提交失败:\", error);\r\n      message.error(\"提交失败，请重试\");\r\n    }\r\n  };\r\n\r\n  const handleApplyJob = (job: any) => {\r\n    setSelectedJob(job);\r\n    setViewMode(\"apply\");\r\n    form.resetFields();\r\n  };\r\n\r\n  const handleBackToList = () => {\r\n    setViewMode(\"list\");\r\n    setSelectedJob(null);\r\n    form.resetFields();\r\n    setFileList([]);\r\n  };\r\n\r\n  // 筛选职位列表\r\n  const filteredJobs = jobs.filter((job) => {\r\n    // 只显示开放中的职位\r\n    if (job.status !== \"open\") return false;\r\n\r\n    // 搜索文本筛选\r\n    const matchesSearch = searchText\r\n      ? job.title.toLowerCase().includes(searchText.toLowerCase()) ||\r\n        job.description.toLowerCase().includes(searchText.toLowerCase()) ||\r\n        job.location.toLowerCase().includes(searchText.toLowerCase())\r\n      : true;\r\n\r\n    // 部门筛选\r\n    const jobDeptId =\r\n      typeof job.department === \"object\" && job.department\r\n        ? job.department._id\r\n        : job.department;\r\n    const matchesDepartment =\r\n      filterDepartment === \"all\" ? true : jobDeptId === filterDepartment;\r\n\r\n    return matchesSearch && matchesDepartment;\r\n  });\r\n\r\n  const getDepartmentName = (job: any) => {\r\n    if (typeof job.department === \"object\" && job.department) {\r\n      return job.department.name;\r\n    }\r\n    return job.department || \"未分配\";\r\n  };\r\n\r\n  // 重置筛选条件\r\n  const resetFilters = () => {\r\n    setSearchText(\"\");\r\n    setFilterDepartment(\"all\");\r\n  };\r\n\r\n  // 添加工作经验表单项\r\n  const addWorkExperience = () => {\r\n    setWorkExperiences([...workExperiences, {}]);\r\n  };\r\n\r\n  // 移除工作经验表单项\r\n  const removeWorkExperience = (index: number) => {\r\n    const newWorkExperiences = [...workExperiences];\r\n    newWorkExperiences.splice(index, 1);\r\n    setWorkExperiences(newWorkExperiences);\r\n  };\r\n\r\n  // 添加教育经历表单项\r\n  const addEducation = () => {\r\n    setEducations([...educations, {}]);\r\n  };\r\n\r\n  // 移除教育经历表单项\r\n  const removeEducation = (index: number) => {\r\n    const newEducations = [...educations];\r\n    newEducations.splice(index, 1);\r\n    setEducations(newEducations);\r\n  };\r\n\r\n  return (\r\n    <div style={{ maxWidth: 800, margin: \"0 auto\", padding: \"24px\" }}>\r\n      {viewMode === \"list\" ? (\r\n        <>\r\n          <h2>职位列表</h2>\r\n          <Spin spinning={loading}>\r\n            {/* 搜索和筛选区域 */}\r\n            <Card style={{ marginBottom: 16 }}>\r\n              <Row gutter={[16, 16]}>\r\n                <Col span={12}>\r\n                  <Input.Search\r\n                    placeholder=\"搜索职位名称、描述或地点\"\r\n                    value={searchText}\r\n                    onChange={(e) => setSearchText(e.target.value)}\r\n                    onSearch={(value) => setSearchText(value)}\r\n                    allowClear\r\n                  />\r\n                </Col>\r\n                <Col span={8}>\r\n                  <Select\r\n                    placeholder=\"按部门筛选\"\r\n                    style={{ width: \"100%\" }}\r\n                    value={filterDepartment}\r\n                    onChange={(value) => setFilterDepartment(value)}\r\n                  >\r\n                    <Select.Option value=\"all\">全部部门</Select.Option>\r\n                    {departments.map((dept) => (\r\n                      <Select.Option key={dept._id} value={dept._id}>\r\n                        {dept.name}\r\n                      </Select.Option>\r\n                    ))}\r\n                  </Select>\r\n                </Col>\r\n                <Col span={4}>\r\n                  <Button onClick={resetFilters}>重置筛选</Button>\r\n                </Col>\r\n              </Row>\r\n            </Card>\r\n\r\n            {filteredJobs.length === 0 ? (\r\n              <Card>\r\n                <Typography.Text>暂无招聘中的职位</Typography.Text>\r\n              </Card>\r\n            ) : (\r\n              <Space direction=\"vertical\" style={{ width: \"100%\" }}>\r\n                {filteredJobs.map((job) => (\r\n                  <Card key={job._id}>\r\n                    <Row justify=\"space-between\" align=\"middle\">\r\n                      <Col>\r\n                        <Typography.Title level={4} style={{ margin: 0 }}>\r\n                          {job.title}\r\n                          <Typography.Text\r\n                            type=\"success\"\r\n                            style={{ fontSize: \"14px\", marginLeft: \"10px\" }}\r\n                          >\r\n                            招聘中\r\n                          </Typography.Text>\r\n                        </Typography.Title>\r\n                        <Typography.Text type=\"secondary\">\r\n                          {getDepartmentName(job)} · {job.location}\r\n                          {job.jobType && ` · ${job.jobType}`}\r\n                        </Typography.Text>\r\n                        {job.salaryRange && (\r\n                          <Typography.Text\r\n                            type=\"success\"\r\n                            style={{ display: \"block\", marginTop: 8 }}\r\n                          >\r\n                            {job.salaryRange}\r\n                          </Typography.Text>\r\n                        )}\r\n                      </Col>\r\n                      <Col>\r\n                        <Button\r\n                          type=\"primary\"\r\n                          onClick={() => handleApplyJob(job)}\r\n                        >\r\n                          申请职位\r\n                        </Button>\r\n                      </Col>\r\n                    </Row>\r\n                    <Typography.Paragraph style={{ marginTop: 16 }}>\r\n                      <strong>职位描述：</strong>\r\n                      <br />\r\n                      {job.description}\r\n                    </Typography.Paragraph>\r\n                    {job.expiryDate && (\r\n                      <Typography.Text type=\"secondary\">\r\n                        截止日期: {dayjs(job.expiryDate).format(\"YYYY-MM-DD\")}\r\n                      </Typography.Text>\r\n                    )}\r\n                  </Card>\r\n                ))}\r\n              </Space>\r\n            )}\r\n          </Spin>\r\n        </>\r\n      ) : (\r\n        <>\r\n          <div style={{ marginBottom: 16 }}>\r\n            <Button\r\n              icon={<ArrowLeftOutlined />}\r\n              onClick={handleBackToList}\r\n              style={{ marginRight: 16 }}\r\n            >\r\n              返回\r\n            </Button>\r\n            <Typography.Title\r\n              level={3}\r\n              style={{ display: \"inline-block\", margin: 0 }}\r\n            >\r\n              职位申请\r\n            </Typography.Title>\r\n            <Typography.Text style={{ marginLeft: 8 }}>\r\n              {selectedJob?.title}\r\n            </Typography.Text>\r\n          </div>\r\n\r\n          <Card style={{ marginBottom: 16 }}>\r\n            <Typography.Title level={4}>{selectedJob?.title}</Typography.Title>\r\n            <Typography.Text type=\"secondary\">\r\n              {getDepartmentName(selectedJob)} · {selectedJob?.location}\r\n              {selectedJob?.jobType && ` · ${selectedJob?.jobType}`}\r\n            </Typography.Text>\r\n            {selectedJob?.salaryRange && (\r\n              <Typography.Text\r\n                type=\"success\"\r\n                style={{ display: \"block\", marginTop: 8 }}\r\n              >\r\n                {selectedJob?.salaryRange}\r\n              </Typography.Text>\r\n            )}\r\n            <Typography.Paragraph style={{ marginTop: 16 }}>\r\n              <strong>职位描述：</strong>\r\n              <br />\r\n              {selectedJob?.description}\r\n            </Typography.Paragraph>\r\n          </Card>\r\n\r\n          <Form form={form} onFinish={onFinish} layout=\"vertical\">\r\n            <Form.Item\r\n              name=\"resume\"\r\n              label=\"上传简历\"\r\n              rules={[{ required: true, message: \"请上传简历\" }]}\r\n            >\r\n              <Upload\r\n                {...handleUpload}\r\n                maxCount={1}\r\n                accept=\".pdf\"\r\n                fileList={fileList}\r\n                onChange={({ fileList }) => setFileList(fileList)}\r\n              >\r\n                <Button icon={<UploadOutlined />} loading={uploading}>\r\n                  选择文件\r\n                </Button>\r\n              </Upload>\r\n            </Form.Item>\r\n\r\n            {/* 工作经验部分 */}\r\n            <Card title=\"工作经验\" style={{ marginBottom: 16 }}>\r\n              {workExperiences.map((_, index) => (\r\n                <div\r\n                  key={index}\r\n                  style={{\r\n                    marginBottom: 16,\r\n                    border: \"1px dashed #d9d9d9\",\r\n                    padding: 16,\r\n                    borderRadius: 4,\r\n                  }}\r\n                >\r\n                  <Row gutter={16}>\r\n                    <Col span={12}>\r\n                      <Form.Item\r\n                        name={[\"workExperience\", index, \"company\"]}\r\n                        label=\"公司名称\"\r\n                        rules={[{ required: true, message: \"请输入公司名称\" }]}\r\n                      >\r\n                        <Input placeholder=\"公司名称\" />\r\n                      </Form.Item>\r\n                    </Col>\r\n                    <Col span={12}>\r\n                      <Form.Item\r\n                        name={[\"workExperience\", index, \"position\"]}\r\n                        label=\"职位\"\r\n                        rules={[{ required: true, message: \"请输入职位\" }]}\r\n                      >\r\n                        <Input placeholder=\"职位\" />\r\n                      </Form.Item>\r\n                    </Col>\r\n                  </Row>\r\n                  <Row gutter={16}>\r\n                    <Col span={12}>\r\n                      <Form.Item\r\n                        name={[\"workExperience\", index, \"startDate\"]}\r\n                        label=\"开始日期\"\r\n                      >\r\n                        <Input type=\"date\" />\r\n                      </Form.Item>\r\n                    </Col>\r\n                    <Col span={12}>\r\n                      <Form.Item\r\n                        name={[\"workExperience\", index, \"endDate\"]}\r\n                        label=\"结束日期\"\r\n                      >\r\n                        <Input type=\"date\" />\r\n                      </Form.Item>\r\n                    </Col>\r\n                  </Row>\r\n                  <Form.Item\r\n                    name={[\"workExperience\", index, \"description\"]}\r\n                    label=\"工作描述\"\r\n                  >\r\n                    <Input.TextArea rows={3} placeholder=\"工作职责和成就\" />\r\n                  </Form.Item>\r\n                  {workExperiences.length > 1 && (\r\n                    <Button\r\n                      type=\"dashed\"\r\n                      danger\r\n                      onClick={() => removeWorkExperience(index)}\r\n                      style={{ marginTop: 8 }}\r\n                    >\r\n                      删除此工作经验\r\n                    </Button>\r\n                  )}\r\n                </div>\r\n              ))}\r\n              <Button type=\"dashed\" onClick={addWorkExperience} block>\r\n                + 添加工作经验\r\n              </Button>\r\n            </Card>\r\n\r\n            {/* 教育经历部分 */}\r\n            <Card title=\"教育经历\" style={{ marginBottom: 16 }}>\r\n              {educations.map((_, index) => (\r\n                <div\r\n                  key={index}\r\n                  style={{\r\n                    marginBottom: 16,\r\n                    border: \"1px dashed #d9d9d9\",\r\n                    padding: 16,\r\n                    borderRadius: 4,\r\n                  }}\r\n                >\r\n                  <Row gutter={16}>\r\n                    <Col span={12}>\r\n                      <Form.Item\r\n                        name={[\"education\", index, \"school\"]}\r\n                        label=\"学校名称\"\r\n                        rules={[{ required: true, message: \"请输入学校名称\" }]}\r\n                      >\r\n                        <Input placeholder=\"学校名称\" />\r\n                      </Form.Item>\r\n                    </Col>\r\n                    <Col span={12}>\r\n                      <Form.Item\r\n                        name={[\"education\", index, \"degree\"]}\r\n                        label=\"学位\"\r\n                        rules={[{ required: true, message: \"请输入学位\" }]}\r\n                      >\r\n                        <Input placeholder=\"学位\" />\r\n                      </Form.Item>\r\n                    </Col>\r\n                  </Row>\r\n                  <Row gutter={16}>\r\n                    <Col span={12}>\r\n                      <Form.Item\r\n                        name={[\"education\", index, \"startDate\"]}\r\n                        label=\"开始日期\"\r\n                      >\r\n                        <Input type=\"date\" />\r\n                      </Form.Item>\r\n                    </Col>\r\n                    <Col span={12}>\r\n                      <Form.Item\r\n                        name={[\"education\", index, \"endDate\"]}\r\n                        label=\"结束日期\"\r\n                      >\r\n                        <Input type=\"date\" />\r\n                      </Form.Item>\r\n                    </Col>\r\n                  </Row>\r\n                  <Form.Item name={[\"education\", index, \"major\"]} label=\"专业\">\r\n                    <Input placeholder=\"专业\" />\r\n                  </Form.Item>\r\n                  {educations.length > 1 && (\r\n                    <Button\r\n                      type=\"dashed\"\r\n                      danger\r\n                      onClick={() => removeEducation(index)}\r\n                      style={{ marginTop: 8 }}\r\n                    >\r\n                      删除此教育经历\r\n                    </Button>\r\n                  )}\r\n                </div>\r\n              ))}\r\n              <Button type=\"dashed\" onClick={addEducation} block>\r\n                + 添加教育经历\r\n              </Button>\r\n            </Card>\r\n\r\n            {/* 技能部分 */}\r\n            <Form.Item name=\"skills\" label=\"技能\">\r\n              <Select\r\n                mode=\"tags\"\r\n                style={{ width: \"100%\" }}\r\n                placeholder=\"输入技能并按回车添加\"\r\n                onChange={(value) => setSkills(value)}\r\n              />\r\n            </Form.Item>\r\n\r\n            <Form.Item\r\n              name=\"coverLetter\"\r\n              label=\"求职信\"\r\n              rules={[{ required: true, message: \"请填写求职信\" }]}\r\n            >\r\n              <Input.TextArea rows={6} />\r\n            </Form.Item>\r\n\r\n            <Form.Item>\r\n              <Button type=\"primary\" htmlType=\"submit\">\r\n                提交申请\r\n              </Button>\r\n            </Form.Item>\r\n          </Form>\r\n        </>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default ApplyPage;\r\n"],"names":["ApplyPage","form","Form","useForm","uploading","setUploading","useState","jobs","setJobs","loading","setLoading","fileList","setFileList","selectedJob","setSelectedJob","viewMode","setViewMode","searchText","setSearchText","filterDepartment","setFilterDepartment","departments","setDepartments","workExperiences","setWorkExperiences","educations","setEducations","skills","setSkills","useEffect","async","response","request","get","data","error","console","message","fetchJobs","fetchDepartments","handleUpload","customRequest","file","onSuccess","onError","chunkSize","chunks","Math","ceil","size","uploadChunks","i","start","end","min","chunk","slice","formData","FormData","append","name","String","retries","post","headers","status","Error","statusText","err","Promise","resolve","setTimeout","fileName","result","success","beforeUpload","type","Upload","LIST_IGNORE","filteredJobs","filter","job","matchesSearch","title","toLowerCase","includes","description","location","jobDeptId","department","_id","getDepartmentName","React","style","maxWidth","margin","padding","Spin","spinning","Card","marginBottom","Row","gutter","Col","span","Input","Search","placeholder","value","onChange","e","target","onSearch","allowClear","Select","width","Option","map","dept","key","Button","onClick","resetFilters","length","Typography","Text","Space","direction","justify","align","Title","level","fontSize","marginLeft","jobType","salaryRange","display","marginTop","resetFields","handleApplyJob","Paragraph","expiryDate","dayjs","format","icon","ArrowLeftOutlined","handleBackToList","marginRight","onFinish","fileInfo","formattedWorkExperience","values","workExperience","exp","company","position","duration","startDate","endDate","formattedEducation","education","school","major","degree","graduationYear","split","undefined","submitData","jobId","fileUrl","url","coverLetter","submittedAt","Date","layout","Item","label","rules","required","_extends","maxCount","accept","UploadOutlined","_","index","border","borderRadius","TextArea","rows","danger","newWorkExperiences","splice","removeWorkExperience","addWorkExperience","block","newEducations","removeEducation","addEducation","mode","htmlType"],"sourceRoot":""}