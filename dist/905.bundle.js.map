{"version":3,"file":"905.bundle.js","mappings":"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","sources":["webpack://my_pra/./src/pages/home/home.less","webpack://my_pra/./src/pages/home/home.less?7e13","webpack://my_pra/./src/components/UserAvater.tsx","webpack://my_pra/./src/components/UserDropdown.tsx","webpack://my_pra/./src/components/CustomBreadcrumb.tsx","webpack://my_pra/./src/pages/home/Home.tsx"],"sourcesContent":["// Imports\nimport ___CSS_LOADER_API_SOURCEMAP_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/sourceMaps.js\";\nimport ___CSS_LOADER_API_IMPORT___ from \"../../../node_modules/css-loader/dist/runtime/api.js\";\nvar ___CSS_LOADER_EXPORT___ = ___CSS_LOADER_API_IMPORT___(___CSS_LOADER_API_SOURCEMAP_IMPORT___);\n// Module\n___CSS_LOADER_EXPORT___.push([module.id, `.h-screen {\n  height: 100vh;\n}\n`, \"\",{\"version\":3,\"sources\":[\"webpack://./src/pages/home/home.less\"],\"names\":[],\"mappings\":\"AAAA;EACE,aAAA;AACF\",\"sourcesContent\":[\".h-screen {\\n  height: 100vh;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n// Exports\nexport default ___CSS_LOADER_EXPORT___;\n","\n      import API from \"!../../../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js\";\n      import domAPI from \"!../../../node_modules/style-loader/dist/runtime/styleDomAPI.js\";\n      import insertFn from \"!../../../node_modules/style-loader/dist/runtime/insertBySelector.js\";\n      import setAttributes from \"!../../../node_modules/style-loader/dist/runtime/setAttributesWithoutAttributes.js\";\n      import insertStyleElement from \"!../../../node_modules/style-loader/dist/runtime/insertStyleElement.js\";\n      import styleTagTransformFn from \"!../../../node_modules/style-loader/dist/runtime/styleTagTransform.js\";\n      import content, * as namedExport from \"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/less-loader/dist/cjs.js!./home.less\";\n      \n      \n\nvar options = {};\n\noptions.styleTagTransform = styleTagTransformFn;\noptions.setAttributes = setAttributes;\noptions.insert = insertFn.bind(null, \"head\");\noptions.domAPI = domAPI;\noptions.insertStyleElement = insertStyleElement;\n\nvar update = API(content, options);\n\n\n\nexport * from \"!!../../../node_modules/css-loader/dist/cjs.js!../../../node_modules/less-loader/dist/cjs.js!./home.less\";\n       export default content && content.locals ? content.locals : undefined;\n","import React from \"react\";\r\nimport { UserOutlined } from \"@ant-design/icons\";\r\nimport { App, Avatar, Space } from \"antd\";\r\n\r\nconst UserAvatar: React.FC = () => (\r\n  <Space direction=\"vertical\" size={16}>\r\n    <Avatar size={36} icon={<UserOutlined />} />\r\n  </Space>\r\n);\r\n\r\nexport default UserAvatar;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { DownOutlined, SettingOutlined } from \"@ant-design/icons\";\r\nimport type { App, MenuProps } from \"antd\";\r\nimport {\r\n  Dropdown,\r\n  Space,\r\n  theme,\r\n  Modal,\r\n  Form,\r\n  Input,\r\n  DatePicker,\r\n  Select,\r\n  message,\r\n} from \"antd\";\r\nimport UserAvatar from \"./UserAvater\";\r\nimport { useLoginStore } from \"../store/useLoginStore\";\r\nimport { useThemeStore } from \"../store/useThemeStore\";\r\nimport request from \"../utils/request\";\r\n\r\nconst UserDropdown: React.FC = () => {\r\n  const logout = useLoginStore((state) => state.logout);\r\n  const user = useLoginStore((state) => state.userInfo);\r\n  const toggleTheme = useThemeStore((state) => state.toggleTheme);\r\n  const isDarkMode = useThemeStore((state) => state.isDarkMode);\r\n  const { token } = theme.useToken();\r\n  const [username, setUsername] = useState<string>(\"\");\r\n  const [isSettingsModalVisible, setIsSettingsModalVisible] = useState(false);\r\n  const [form] = Form.useForm();\r\n  const [loading, setLoading] = useState(false);\r\n\r\n  useEffect(() => {\r\n    if (user) {\r\n      setUsername(user.username || \"\");\r\n      // 当用户信息加载后，预填充表单\r\n      form.setFieldsValue({\r\n        username: user.username,\r\n        email: user.email,\r\n        phone: user.phone || \"\",\r\n        employmentType: user.employmentType || undefined,\r\n        entryDate: user.entryDate ? new Date(user.entryDate) : undefined,\r\n      });\r\n    }\r\n  }, [user, form]);\r\n\r\n  const handleSettingsSave = async (values: any) => {\r\n    if (!user?.userId) return;\r\n\r\n    setLoading(true);\r\n    try {\r\n      const response = await request.put(`/users/${user.userId}`, values);\r\n      if (response.data.code === 200) {\r\n        message.success(\"个人信息更新成功\");\r\n        setIsSettingsModalVisible(false);\r\n        // 这里可以添加刷新用户信息的逻辑\r\n      } else {\r\n        message.error(response.data.message || \"更新失败\");\r\n      }\r\n    } catch (error) {\r\n      console.error(\"更新个人信息失败:\", error);\r\n      message.error(\"更新个人信息失败\");\r\n    } finally {\r\n      setLoading(false);\r\n    }\r\n  };\r\n\r\n  const items: MenuProps[\"items\"] = [\r\n    {\r\n      key: \"1\",\r\n      label: `${username || \"我\"}的账户`,\r\n      disabled: true,\r\n    },\r\n    {\r\n      type: \"divider\",\r\n    },\r\n    {\r\n      key: \"2\",\r\n      label: \"退出登录\",\r\n      extra: \"⌘P\",\r\n      onClick: () => {\r\n        logout();\r\n        // 可以在这里添加退出后的重定向逻辑，比如跳转到登录页\r\n        window.location.href = \"/login\";\r\n      },\r\n    },\r\n    {\r\n      key: \"3\",\r\n      label: \"设置\",\r\n      icon: <SettingOutlined />,\r\n      extra: \"⌘S\",\r\n      onClick: () => setIsSettingsModalVisible(true),\r\n    },\r\n    {\r\n      type: \"divider\",\r\n    },\r\n    {\r\n      key: \"4\",\r\n      label: `切换到${isDarkMode ? \"浅色\" : \"深色\"}主题`,\r\n      onClick: () => {\r\n        toggleTheme();\r\n      },\r\n    },\r\n  ];\r\n\r\n  return (\r\n    <>\r\n      <Dropdown menu={{ items }}>\r\n        <a onClick={(e) => e.preventDefault()}>\r\n          <Space>\r\n            <UserAvatar />\r\n            <span>{username || \"用户\"}</span>\r\n            <DownOutlined />\r\n          </Space>\r\n        </a>\r\n      </Dropdown>\r\n\r\n      <Modal\r\n        title=\"个人设置\"\r\n        open={isSettingsModalVisible}\r\n        onCancel={() => setIsSettingsModalVisible(false)}\r\n        onOk={() => form.submit()}\r\n        confirmLoading={loading}\r\n        okText=\"保存\"\r\n        cancelText=\"取消\"\r\n      >\r\n        <Form form={form} layout=\"vertical\" onFinish={handleSettingsSave}>\r\n          <Form.Item\r\n            name=\"username\"\r\n            label=\"用户名\"\r\n            rules={[{ required: true, message: \"请输入用户名\" }]}\r\n          >\r\n            <Input placeholder=\"请输入用户名\" />\r\n          </Form.Item>\r\n\r\n          <Form.Item\r\n            name=\"email\"\r\n            label=\"邮箱\"\r\n            rules={[\r\n              { required: true, message: \"请输入邮箱\" },\r\n              { type: \"email\", message: \"请输入有效的邮箱地址\" },\r\n            ]}\r\n          >\r\n            <Input placeholder=\"请输入邮箱\" />\r\n          </Form.Item>\r\n\r\n          <Form.Item name=\"phone\" label=\"电话\">\r\n            <Input placeholder=\"请输入电话号码\" />\r\n          </Form.Item>\r\n\r\n          <Form.Item name=\"employmentType\" label=\"雇佣类型\">\r\n            <Select placeholder=\"请选择雇佣类型\">\r\n              <Select.Option value=\"全职\">全职</Select.Option>\r\n              <Select.Option value=\"兼职\">兼职</Select.Option>\r\n              <Select.Option value=\"实习\">实习</Select.Option>\r\n            </Select>\r\n          </Form.Item>\r\n\r\n          <Form.Item name=\"entryDate\" label=\"入职日期\">\r\n            <DatePicker\r\n              placeholder=\"请选择入职日期\"\r\n              style={{ width: \"100%\" }}\r\n            />\r\n          </Form.Item>\r\n        </Form>\r\n      </Modal>\r\n    </>\r\n  );\r\n};\r\n\r\nexport default UserDropdown;\r\n","import React from \"react\";\r\nimport { Breadcrumb } from \"antd\";\r\nimport { useLocation, useNavigate } from \"react-router-dom\";\r\n\r\ninterface CustomBreadcrumbProps {\r\n  routeMap: Record<string, string>;\r\n}\r\n\r\nconst CustomBreadcrumb: React.FC<CustomBreadcrumbProps> = ({ routeMap }) => {\r\n  const location = useLocation();\r\n  const navigate = useNavigate();\r\n\r\n  const getBreadcrumbItems = () => {\r\n    const pathSegments = location.pathname.split(\"/\").filter(Boolean);\r\n    let currentLink = \"\";\r\n    const breadcrumbItems = [\r\n      {\r\n        title: \"首页\",\r\n        onClick: () => navigate(\"/\"),\r\n      },\r\n    ];\r\n\r\n    for (let i = 0; i < pathSegments.length; i++) {\r\n      currentLink += `/${pathSegments[i]}`;\r\n      const title = routeMap[currentLink];\r\n      if (title) {\r\n        breadcrumbItems.push({\r\n          title: title,\r\n          onClick: () => navigate(currentLink),\r\n        });\r\n      }\r\n    }\r\n\r\n    return breadcrumbItems;\r\n  };\r\n\r\n  return <Breadcrumb items={getBreadcrumbItems()} />;\r\n};\r\n\r\nexport default CustomBreadcrumb;\r\n","import React, { useEffect, useState } from \"react\";\r\nimport { Outlet, Navigate, useNavigate } from \"react-router-dom\";\r\nimport { useLoginStore } from \"../../store/useLoginStore\";\r\nimport \"./home.less\";\r\nimport {\r\n  MenuFoldOutlined,\r\n  MenuUnfoldOutlined,\r\n  UploadOutlined,\r\n  UserOutlined,\r\n  VideoCameraOutlined,\r\n  TeamOutlined,\r\n} from \"@ant-design/icons\";\r\nimport { Button, Layout, Menu, theme, Breadcrumb, Tag } from \"antd\";\r\nimport UserDropdown from \"../../components/UserDropdown\";\r\nimport { DndProvider } from \"react-dnd\";\r\nimport { HTML5Backend } from \"react-dnd-html5-backend\";\r\nimport { useDrag, useDrop } from \"react-dnd\";\r\nimport CustomBreadcrumb from \"../../components/CustomBreadcrumb\";\r\n\r\nconst { Header, Sider, Content } = Layout;\r\n\r\n// 添加可拖拽的菜单项组件\r\nconst DraggableMenuItem = ({\r\n  item,\r\n  index,\r\n  moveItem,\r\n}: {\r\n  item: string;\r\n  index: number;\r\n  moveItem: (fromIndex: number, toIndex: number) => void;\r\n}) => {\r\n  const [, drag] = useDrag({\r\n    type: \"MENU_ITEM\",\r\n    item: { index },\r\n  });\r\n\r\n  const [, drop] = useDrop({\r\n    accept: \"MENU_ITEM\",\r\n    hover: (draggedItem: { index: number }) => {\r\n      if (draggedItem.index !== index) {\r\n        moveItem(draggedItem.index, index);\r\n        draggedItem.index = index;\r\n      }\r\n    },\r\n  });\r\n\r\n  // 修复ref的用法\r\n  const ref = (node: HTMLDivElement) => {\r\n    drag(node);\r\n    drop(node);\r\n  };\r\n\r\n  return <div ref={ref}>{item}</div>;\r\n};\r\n\r\nconst Home: React.FC = () => {\r\n  const navigate = useNavigate();\r\n  const { token } = useLoginStore();\r\n  const [collapsed, setCollapsed] = useState(false);\r\n  const [visitedTags, setVisitedTags] = useState<\r\n    Array<{\r\n      path: string;\r\n      label: string;\r\n    }>\r\n  >([{ path: \"/\", label: \"首页\" }]);\r\n\r\n  const {\r\n    token: { colorBgContainer, borderRadiusLG },\r\n  } = theme.useToken();\r\n\r\n  const [menuItems, setMenuItems] = useState([\r\n    {\r\n      key: \"1\",\r\n      icon: <UserOutlined />,\r\n      label: \"首页\",\r\n      onClick: () => {\r\n        navigate(\"/\");\r\n        addVisitedTag(\"/\", \"首页\");\r\n      },\r\n    },\r\n    {\r\n      key: \"2\",\r\n      icon: <VideoCameraOutlined />,\r\n      label: \"员工管理\",\r\n      onClick: () => {\r\n        navigate(\"/user\");\r\n        addVisitedTag(\"/user\", \"员工管理\");\r\n      },\r\n    },\r\n    {\r\n      key: \"3\",\r\n      icon: <UploadOutlined />,\r\n      label: \"招聘管理\",\r\n      children: [\r\n        {\r\n          key: \"3-1\",\r\n          label: \"简历查看\",\r\n          onClick: () => {\r\n            navigate(\"/recruitment/resume\");\r\n            addVisitedTag(\"/recruitment/resume\", \"简历查看\");\r\n          },\r\n        },\r\n        {\r\n          key: \"3-2\",\r\n          label: \"职位发布\",\r\n          onClick: () => {\r\n            navigate(\"/recruitment/jobs\");\r\n            addVisitedTag(\"/recruitment/jobs\", \"职位发布\");\r\n          },\r\n        },\r\n        {\r\n          key: \"3-3\",\r\n          label: \"申请职位\",\r\n          onClick: () => {\r\n            navigate(\"/recruitment/apply\");\r\n            addVisitedTag(\"/recruitment/apply\", \"申请职位\");\r\n          },\r\n        },\r\n        {\r\n          key: \"3-4\",\r\n          label: \"我的申请\",\r\n          onClick: () => {\r\n            navigate(\"/recruitment/my-applications\");\r\n            addVisitedTag(\"/recruitment/my-applications\", \"我的申请\");\r\n          },\r\n        },\r\n      ],\r\n    },\r\n    {\r\n      key: \"4\",\r\n      icon: <UserOutlined />,\r\n      label: \"权限管理\",\r\n      onClick: () => {\r\n        navigate(\"/permission-management\");\r\n        addVisitedTag(\"/permission-management\", \"权限管理\");\r\n      },\r\n    },\r\n    {\r\n      key: \"5\",\r\n      icon: <TeamOutlined />,\r\n      label: \"部门管理\",\r\n      onClick: () => {\r\n        navigate(\"/department\");\r\n        addVisitedTag(\"/department\", \"部门管理\");\r\n      },\r\n    },\r\n  ]);\r\n\r\n  const moveItem = (fromIndex: number, toIndex: number) => {\r\n    setMenuItems((prevItems) => {\r\n      const newItems = [...prevItems];\r\n      const [movedItem] = newItems.splice(fromIndex, 1);\r\n      newItems.splice(toIndex, 0, movedItem);\r\n      return newItems;\r\n    });\r\n  };\r\n\r\n  // 添加访问标签\r\n  const addVisitedTag = (path: string, label: string) => {\r\n    setVisitedTags((prev) => {\r\n      if (!prev.find((tag) => tag.path === path)) {\r\n        return [...prev, { path, label }];\r\n      }\r\n      return prev;\r\n    });\r\n  };\r\n\r\n  // 删除标签\r\n  const removeVisitedTag = (path: string) => {\r\n    setVisitedTags((prev) => prev.filter((tag) => tag.path !== path));\r\n  };\r\n\r\n  // 保留路由映射表\r\n  const routeMap = {\r\n    \"/\": \"首页\",\r\n    \"/user\": \"员工管理\",\r\n    \"/recruitment\": \"招聘管理\",\r\n    \"/recruitment/resume\": \"简历查看\",\r\n    \"/recruitment/jobs\": \"职位发布\",\r\n    \"/recruitment/apply\": \"申请职位\",\r\n    \"/recruitment/my-applications\": \"我的申请\",\r\n    \"/permission-management\": \"权限管理\",\r\n    \"/department\": \"部门管理\",\r\n  };\r\n\r\n  return (\r\n    <DndProvider backend={HTML5Backend}>\r\n      <Layout style={{ minHeight: \"100vh\" }}>\r\n        <Sider\r\n          trigger={null}\r\n          collapsible\r\n          collapsed={collapsed}\r\n          style={{ minHeight: \"100vh\" }}\r\n        >\r\n          <div className=\"demo-logo-vertical\" />\r\n          <h2\r\n            style={{ textAlign: \"center\", marginTop: \"10px\", color: \"white\" }}\r\n          >\r\n            HRM系统\r\n          </h2>\r\n          <Menu\r\n            theme=\"dark\"\r\n            mode=\"inline\"\r\n            defaultSelectedKeys={[\"1\"]}\r\n            items={menuItems.map((item, index) => ({\r\n              ...item,\r\n              label: (\r\n                <DraggableMenuItem\r\n                  item={item.label}\r\n                  index={index}\r\n                  moveItem={moveItem}\r\n                />\r\n              ),\r\n            }))}\r\n          />\r\n        </Sider>\r\n        <Layout>\r\n          <Header\r\n            style={{\r\n              padding: 0,\r\n              background: colorBgContainer,\r\n              display: \"flex\",\r\n              justifyContent: \"space-between\",\r\n              alignItems: \"center\",\r\n            }}\r\n          >\r\n            <div style={{ display: \"flex\", alignItems: \"center\" }}>\r\n              <Button\r\n                type=\"text\"\r\n                icon={collapsed ? <MenuUnfoldOutlined /> : <MenuFoldOutlined />}\r\n                onClick={() => setCollapsed(!collapsed)}\r\n                style={{\r\n                  fontSize: \"16px\",\r\n                  width: 64,\r\n                  height: 64,\r\n                }}\r\n              />\r\n              <CustomBreadcrumb routeMap={routeMap} />\r\n            </div>\r\n            <UserDropdown />\r\n          </Header>\r\n          <div\r\n            style={{\r\n              padding: \"8px 16px\",\r\n              background: colorBgContainer,\r\n              borderBottom: \"1px solid #f0f0f0\",\r\n            }}\r\n          >\r\n            {visitedTags.map((tag) => (\r\n              <Tag\r\n                key={tag.path}\r\n                closable={tag.path !== \"/\"}\r\n                style={{ marginRight: 8, cursor: \"pointer\" }}\r\n                onClick={() => navigate(tag.path)}\r\n                onClose={(e) => {\r\n                  e.preventDefault();\r\n                  removeVisitedTag(tag.path);\r\n                }}\r\n              >\r\n                {tag.label}\r\n              </Tag>\r\n            ))}\r\n          </div>\r\n          <Content\r\n            style={{\r\n              margin: \"24px 16px\",\r\n              padding: 24,\r\n              minHeight: 280,\r\n              background: colorBgContainer,\r\n              borderRadius: borderRadiusLG,\r\n            }}\r\n          >\r\n            <Outlet />\r\n          </Content>\r\n        </Layout>\r\n      </Layout>\r\n    </DndProvider>\r\n  );\r\n};\r\n\r\nexport default Home;\r\n"],"names":["___CSS_LOADER_EXPORT___","push","module","id","options","styleTagTransform","setAttributes","insert","domAPI","insertStyleElement","locals","UserAvatar","React","Space","direction","size","Avatar","icon","UserOutlined","UserDropdown","logout","useLoginStore","state","user","userInfo","toggleTheme","useThemeStore","isDarkMode","token","theme","useToken","username","setUsername","useState","isSettingsModalVisible","setIsSettingsModalVisible","form","Form","useForm","loading","setLoading","useEffect","setFieldsValue","email","phone","employmentType","undefined","entryDate","Date","items","key","label","disabled","type","extra","onClick","window","location","href","SettingOutlined","Dropdown","menu","e","preventDefault","DownOutlined","Modal","title","open","onCancel","onOk","submit","confirmLoading","okText","cancelText","layout","onFinish","async","userId","response","request","put","values","data","code","message","success","error","console","Item","name","rules","required","Input","placeholder","Select","Option","value","DatePicker","style","width","CustomBreadcrumb","routeMap","useLocation","navigate","useNavigate","Breadcrumb","getBreadcrumbItems","pathSegments","pathname","split","filter","Boolean","currentLink","breadcrumbItems","i","length","Header","Sider","Content","Layout","DraggableMenuItem","item","index","moveItem","drag","useDrag","drop","useDrop","accept","hover","draggedItem","ref","node","Home","collapsed","setCollapsed","visitedTags","setVisitedTags","path","colorBgContainer","borderRadiusLG","menuItems","setMenuItems","addVisitedTag","VideoCameraOutlined","UploadOutlined","children","TeamOutlined","fromIndex","toIndex","prevItems","newItems","movedItem","splice","prev","find","tag","DndProvider","backend","HTML5Backend","minHeight","trigger","collapsible","className","textAlign","marginTop","color","Menu","mode","defaultSelectedKeys","map","padding","background","display","justifyContent","alignItems","Button","MenuUnfoldOutlined","MenuFoldOutlined","fontSize","height","borderBottom","Tag","closable","marginRight","cursor","onClose","margin","borderRadius","Outlet"],"sourceRoot":""}